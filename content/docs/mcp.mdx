---
title: MCP
description: Utiliser le serveur MCP Horus pour accéder aux agents depuis Claude Code, Cursor, Windsurf et autres clients MCP
---

# Serveur MCP

Horus expose un serveur **MCP (Model Context Protocol)** permettant d'accéder aux agents depuis tout client compatible MCP.

## Clients supportés

| Client | Transport | Statut |
|--------|-----------|--------|
| Claude Code | HTTP | Supporté |
| Cursor | HTTP | Supporté |
| Windsurf | HTTP | Supporté |
| Autres clients MCP | HTTP | Compatible |

---

## Configuration par client

### Claude Code

#### Option 1 : Via CLI (recommandé)

```bash
claude mcp add --transport http horus https://horus.strivex.fr/api/mcp
```

#### Option 2 : Via fichier de configuration

Créez ou modifiez le fichier `.mcp.json` à la racine de votre projet :

```json
{
  "mcpServers": {
    "horus": {
      "type": "http",
      "url": "https://horus.strivex.fr/api/mcp"
    }
  }
}
```

Pour une configuration globale (tous vos projets), utilisez `~/.claude.json`.

#### Vérification

```bash
claude mcp list
```

---

### Cursor

#### Option 1 : Configuration globale

Créez ou modifiez le fichier `~/.cursor/mcp.json` :

```json
{
  "mcpServers": {
    "horus": {
      "type": "http",
      "url": "https://horus.strivex.fr/api/mcp"
    }
  }
}
```

#### Option 2 : Configuration par projet

Créez le fichier `.cursor/mcp.json` à la racine de votre projet :

```json
{
  "mcpServers": {
    "horus": {
      "type": "http",
      "url": "https://horus.strivex.fr/api/mcp"
    }
  }
}
```

#### Vérification

1. Ouvrez Cursor
2. `Ctrl+Shift+P` → "Cursor Settings"
3. Naviguez vers la section **MCP**
4. Cliquez sur **Refresh** pour charger le serveur
5. Vérifiez que `horus` apparaît avec ses tools

---

### Windsurf

Créez ou modifiez le fichier `~/.codeium/windsurf/mcp_config.json` :

```json
{
  "mcpServers": {
    "horus": {
      "type": "http",
      "url": "https://horus.strivex.fr/api/mcp"
    }
  }
}
```

#### Vérification

1. Ouvrez Windsurf
2. Ouvrez les Settings → Cascade → Plugins
3. Vérifiez que `horus` est listé

---

## Tools disponibles

### `list_categories`

Liste toutes les catégories d'agents avec leurs descriptions.

**Paramètres :** aucun

---

### `list_agents`

Liste tous les agents disponibles par catégorie.

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string (optionnel) | Filtrer par catégorie (`architecture`, `seo`, `tailwind-responsive`, `experts`) |

---

### `search_agents`

Recherche des agents par nom, slug ou catégorie.

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `query` | string | Terme de recherche |

---

### `get_agent_skill`

Récupère le document SKILL d'un agent (capacités et expertise).

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string | Catégorie de l'agent |
| `agent` | string | Slug de l'agent (ex: `react-expert`) |

---

### `get_agent_reference`

Récupère le document REFERENCE d'un agent (documentation technique).

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string | Catégorie de l'agent |
| `agent` | string | Slug de l'agent |

---

### `get_agent_workflows`

Récupère le document WORKFLOWS d'un agent (cas d'usage et exemples).

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string | Catégorie de l'agent |
| `agent` | string | Slug de l'agent |

---

### `activate_agent`

**Le tool principal pour Cursor et Windsurf.**

Active un agent en injectant son contexte complet comme prompt système. L'IA "devient" l'agent spécialisé avec son expertise, ses workflows et ses directives.

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string | Catégorie de l'agent |
| `agent` | string | Slug de l'agent (ex: `react-expert`) |
| `include_reference` | boolean (optionnel) | Inclure la documentation technique détaillée (défaut: `false`) |

**Retourne :** Un prompt d'activation formaté contenant :
- Header d'activation
- SKILL complet de l'agent
- REFERENCE (si demandée)
- Instructions d'application

---

## Exemples d'utilisation

### Cursor / Windsurf

En mode Agent, demandez simplement :

```
Utilise le tool activate_agent avec category="experts" et agent="react-expert"
puis aide-moi à optimiser ce composant
```

Ou plus naturellement :

```
Active l'agent react-expert de Horus et aide-moi avec ce composant
```

L'IA appelera automatiquement `activate_agent` et appliquera l'expertise de l'agent.

### Workflow recommandé

1. **Découvrir les agents disponibles**
   ```
   Liste les agents Horus disponibles dans la catégorie experts
   ```

2. **Activer l'agent approprié**
   ```
   Active l'agent nextjs-expert de Horus
   ```

3. **Travailler avec l'expertise**
   ```
   Analyse cette route API et suggère des améliorations
   ```

### Combiner plusieurs agents

Pour des tâches complexes, activez plusieurs agents successivement :

```
1. Active l'agent react-expert pour analyser les composants
2. Puis active l'agent tw-layout-expert pour le responsive
```

---

## Agents disponibles

### Architecture (8 agents)

| Slug | Description |
|------|-------------|
| `structure-expert` | Organisation projet, Clean Architecture |
| `solid-expert` | Principes SOLID |
| `patterns-expert` | Design patterns React et backend |
| `coupling-expert` | Dépendances circulaires, couplage/cohésion |
| `modularity-expert` | Architecture modulaire, encapsulation |
| `debt-expert` | Dette technique, code smells |
| `state-expert` | Gestion d'état React |
| `types-expert` | Typage TypeScript avancé |

### SEO (7 agents)

| Slug | Description |
|------|-------------|
| `seo-metadata-expert` | Meta tags, Open Graph, Twitter Cards |
| `seo-schema-expert` | Schema.org, JSON-LD |
| `seo-crawl-expert` | Crawl budget, indexation |
| `seo-performance-expert` | Core Web Vitals, TTFB |
| `seo-content-expert` | Optimisation sémantique, E-E-A-T |
| `seo-rendering-expert` | SSR/SSG/ISR, hydration |
| `seo-image-expert` | Optimisation images, LCP |

### Tailwind Responsive (8 agents)

| Slug | Description |
|------|-------------|
| `tw-mobile-first-expert` | Mobile-first responsive design |
| `tw-breakpoints-expert` | Système de breakpoints |
| `tw-layout-expert` | Flexbox, Grid, containers |
| `tw-spacing-expert` | Padding, margin, gap |
| `tw-typography-expert` | Typographie responsive |
| `tw-images-expert` | Images responsives, aspect-ratio |
| `tw-container-queries-expert` | Container queries v4 |
| `tw-accessibility-expert` | Accessibilité Tailwind |

### Experts (6 agents)

| Slug | Description |
|------|-------------|
| `react-expert` | React 19+, Server Components, hooks |
| `nextjs-expert` | Next.js 15+, App Router, Server Actions |
| `tailwind-expert` | TailwindCSS v4+, CSS-first config |
| `clerk-expert` | Authentification Clerk |
| `security-expert` | Cybersécurité, OWASP Top 10 |
| `techwatch-expert` | Veille technologique |

---

## Prompts disponibles (Claude Code)

> [!NOTE]
> Les prompts MCP sont principalement utilisés avec Claude Code. Cursor et Windsurf utilisent plutôt les **tools** directement.

### Prompts basiques

#### `list_agents`

Liste compacte des agents disponibles, groupés par catégorie.

#### `activate_agent`

Active un agent unique en chargeant son SKILL comme contexte système.

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `category` | string | Catégorie de l'agent |
| `agent` | string | Slug de l'agent |
| `task` | string (optionnel) | Tâche à exécuter |

#### `multi_agent`

Combine plusieurs agents pour une tâche complexe.

**Paramètres :**

| Paramètre | Type | Description |
|-----------|------|-------------|
| `agents` | string | Liste d'agents séparés par virgules |
| `task` | string (optionnel) | Tâche à exécuter |

---

### Audits pré-configurés

#### `architecture_audit`

Audit combinant : `patterns-expert`, `solid-expert`, `coupling-expert`, `structure-expert`.

#### `seo_analysis`

Analyse combinant : `seo-metadata-expert`, `seo-performance-expert`, `seo-schema-expert`.

#### `tailwind_responsive_audit`

Audit combinant : `tw-mobile-first-expert`, `tw-breakpoints-expert`, `tw-layout-expert`, `tw-accessibility-expert`.

---

### Analyses avancées

Ces prompts effectuent une analyse complète et génèrent un fichier de plan d'optimisation.

#### `advanced_architecture_analysis`

10 agents → Génère `ARCHI_OPTI_PLAN.md`

#### `advanced_seo_analysis`

7 agents → Génère `SEO_OPTI_PLAN.md`

#### `advanced_tailwind_responsive_analysis`

8 agents → Génère `RESPONSIVE_OPTI_PLAN.md`

---

## Différences Claude Code vs Cursor/Windsurf

| Fonctionnalité | Claude Code | Cursor/Windsurf |
|----------------|-------------|-----------------|
| **Subagents** | Oui (via slash commands) | Non |
| **Tools MCP** | Oui | Oui |
| **Prompts MCP** | Oui | Limité |
| **activate_agent** | Utile | **Essentiel** |
| **Audits automatisés** | Oui (slash commands) | Via tools manuels |

**Recommandation :**
- **Claude Code** : Utilisez les slash commands (`/horus:*`) pour les audits complets
- **Cursor/Windsurf** : Utilisez le tool `activate_agent` pour bénéficier de l'expertise des agents
